<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot difficulties and discriminations/item validity — DDplot • ShinyItemAnalysis</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot difficulties and discriminations/item validity — DDplot"><meta name="description" content="Plots difficulty and (generalized) discrimination or criterion validity for
items of the multi-item measurement test using the ggplot2 package.
Difficulty and discrimination/validity indices are plotted for each item,
items are ordered by their difficulty."><meta property="og:description" content="Plots difficulty and (generalized) discrimination or criterion validity for
items of the multi-item measurement test using the ggplot2 package.
Difficulty and discrimination/validity indices are plotted for each item,
items are ordered by their difficulty."><meta property="og:image" content="/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ShinyItemAnalysis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/patriciamar/ShinyItemAnalysis/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Plot difficulties and discriminations/item validity</h1>
      <small class="dont-index">Source: <a href="https://github.com/patriciamar/ShinyItemAnalysis/blob/master/R/DDplot.R" class="external-link"><code>R/DDplot.R</code></a></small>
      <div class="d-none name"><code>DDplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots difficulty and (generalized) discrimination or criterion validity for
items of the multi-item measurement test using the <span class="pkg">ggplot2</span> package.
Difficulty and discrimination/validity indices are plotted for each item,
items are ordered by their difficulty.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DDplot</span><span class="op">(</span></span>
<span>  <span class="va">Data</span>,</span>
<span>  <span class="va">item.names</span>,</span>
<span>  discrim <span class="op">=</span> <span class="st">"ULI"</span>,</span>
<span>  k <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  l <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  u <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  <span class="va">maxscore</span>,</span>
<span>  <span class="va">minscore</span>,</span>
<span>  bin <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">cutscore</span>,</span>
<span>  average.score <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  thr <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  criterion <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  val_type <span class="op">=</span> <span class="st">"simple"</span>,</span>
<span>  <span class="va">data</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">Data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>numeric: binary or ordinal data <code>matrix</code> or
<code>data.frame</code> which rows represent examinee answers (<code>1</code> correct,
<code>0</code> incorrect, or ordinal item scores) and columns correspond to the
items.</p></dd>


<dt id="arg-item-names">item.names<a class="anchor" aria-label="anchor" href="#arg-item-names"></a></dt>
<dd><p>character: the names of items. If not specified, the names
of <code>Data</code> columns are used.</p></dd>


<dt id="arg-discrim">discrim<a class="anchor" aria-label="anchor" href="#arg-discrim"></a></dt>
<dd><p>character: type of discrimination index to be calculated.
Possible values are <code>"ULI"</code> (default), <code>"RIT"</code>, <code>"RIR"</code>, and
<code>"none"</code>. See <strong>Details</strong>.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>numeric: number of groups to which data may be divided by the total
score to estimate discrimination using <code>discrim = "ULI"</code>. Default
value is 3.  See <strong>Details</strong>.</p></dd>


<dt id="arg-l">l<a class="anchor" aria-label="anchor" href="#arg-l"></a></dt>
<dd><p>numeric: lower group. Default value is 1. See <strong>Details</strong>.</p></dd>


<dt id="arg-u">u<a class="anchor" aria-label="anchor" href="#arg-u"></a></dt>
<dd><p>numeric: upper group. Default value is 3. See <strong>Details</strong>.</p></dd>


<dt id="arg-maxscore">maxscore<a class="anchor" aria-label="anchor" href="#arg-maxscore"></a></dt>
<dd><p>numeric: maximal scores of items. If single number is
provided, the same maximal score is used for all items. If missing, vector
of achieved maximal scores is calculated and used in calculations.</p></dd>


<dt id="arg-minscore">minscore<a class="anchor" aria-label="anchor" href="#arg-minscore"></a></dt>
<dd><p>numeric: minimal scores of items. If single number is
provided, the same maximal score is used for all items. If missing, vector
of achieved maximal scores is calculated and used in calculations.</p></dd>


<dt id="arg-bin">bin<a class="anchor" aria-label="anchor" href="#arg-bin"></a></dt>
<dd><p>logical: should the ordinal data be binarized? Default value is
<code>FALSE</code>. In case that <code>bin = TRUE</code>, all values of <code>Data</code>
equal or greater than <code>cutscore</code> are marked as <code>1</code> and all values
lower than <code>cutscore</code> are marked as <code>0</code>.</p></dd>


<dt id="arg-cutscore">cutscore<a class="anchor" aria-label="anchor" href="#arg-cutscore"></a></dt>
<dd><p>numeric: cut-score used to binarize <code>Data</code>. If numeric,
the same cut-score is used for all items. If missing, vector of maximal
scores is used in calculations.</p></dd>


<dt id="arg-average-score">average.score<a class="anchor" aria-label="anchor" href="#arg-average-score"></a></dt>
<dd><p>logical: should average score of the item be displayed
instead of difficulty? Default value is <code>FALSE</code>. See <strong>Details</strong>.</p></dd>


<dt id="arg-thr">thr<a class="anchor" aria-label="anchor" href="#arg-thr"></a></dt>
<dd><p>numeric: value of discrimination threshold. Default value is 0.2.
With <code>thr = NULL</code>, no horizontal line is displayed in the plot.</p></dd>


<dt id="arg-criterion">criterion<a class="anchor" aria-label="anchor" href="#arg-criterion"></a></dt>
<dd><p>numeric or logical vector: values of criterion. If supplied,
<code>disrim</code> argument is ignored and item-criterion correlation (validity)
is displayed instead. Default value is <code>"none"</code>.</p></dd>


<dt id="arg-val-type">val_type<a class="anchor" aria-label="anchor" href="#arg-val-type"></a></dt>
<dd><p>character: criterion validity measure. Possible values are
<code>"simple"</code> (correlation between item score and validity criterion;
default) and <code>"index"</code> (item validity index calculated as
<code>cor(item, criterion) * sqrt(((N - 1) / N) * var(item))</code>, where N is
number of respondents, see Allen &amp; Yen, 1979, Ch. 6.4, for details). The
argument is ignored if user does not supply any <code>criterion</code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>deprecated. Use argument <code>Data</code> instead.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Discrimination is calculated using method specified in <code>discrim</code>. Default
option <code>"ULI"</code> calculates difference in ratio of correct answers in upper and
lower third of students. <code>"RIT"</code> index calculates correlation between item
score and test total score. <code>"RIR"</code> index calculates correlation between item
score and total score for the rest of the items. With option <code>"none"</code>, only
difficulty is displayed.</p>
<p><code>"ULI"</code> index can be generalized using arguments <code>k</code>, <code>l</code> and <code>u</code>.
Generalized ULI discrimination is then computed as follows: The function
takes data on individuals, computes their total test score and then divides
individuals into <code>k</code> groups. The lower and upper group are determined by <code>l</code>
and <code>u</code> parameters, i.e.  l-th and u-th group where the ordering is defined
by increasing total score.</p>
<p>For ordinal data, difficulty is defined as a relative score:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>(achieved <span class="sc">-</span> minimal)<span class="sc">/</span>(maximal <span class="sc">-</span> minimal)</span></code></pre><p></p></div>
<p>Minimal score can be specified by
<code>minscore</code>, maximal score can be specified by <code>maxscore</code>. Average score of
items can be displayed with argument <code>average.score = TRUE</code>. Note that for
binary data difficulty estimate is the same as average score of the item.</p>
<p>Note that all correlations are estimated using Pearson correlation
coefficient.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Allen, M. J., &amp; Yen, W. M. (1979). Introduction to measurement theory.
Monterey, CA: Brooks/Cole.</p>
<p>Martinkova, P., Stepanek, L., Drabinova, A., Houdek, J., Vejrazka, M., &amp;
Stuka, C. (2017). Semi-real-time analyses of item characteristics for medical
school admission tests. In: Proceedings of the 2017 Federated Conference on
Computer Science and Information Systems.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="gDiscrim.html">gDiscrim()</a></code> for calculation of generalized ULI <br><code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot2::ggplot()</a></code> for general function to plot a <code>"ggplot"</code> object</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Adela Hladka <br>
Institute of Computer Science of the Czech Academy of Sciences <br><a href="mailto:hladka@cs.cas.cz">hladka@cs.cas.cz</a> <br></p>
<p>Lubomir Stepanek <br>
Charles University <br></p>
<p>Jana Vorlickova <br>
Institute of Computer Science of the Czech Academy of Sciences <br></p>
<p>Patricia Martinkova <br>
Institute of Computer Science of the Czech Academy of Sciences <br><a href="mailto:martinkova@cs.cas.cz">martinkova@cs.cas.cz</a> <br></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># binary dataset</span></span></span>
<span class="r-in"><span><span class="va">dataBin</span> <span class="op">&lt;-</span> <span class="va">dataMedical</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># ordinal dataset</span></span></span>
<span class="r-in"><span><span class="va">dataOrd</span> <span class="op">&lt;-</span> <span class="va">dataMedicalgraded</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># DDplot of binary dataset</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataBin</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="DDplot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># DDplot of binary dataset without threshold</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataBin</span>, thr <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># compared to DDplot using ordinal dataset and 'bin = TRUE'</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span>, bin <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># compared to binarized dataset using bin = TRUE and cut-score equal to 3</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span>, bin <span class="op">=</span> <span class="cn">TRUE</span>, cutscore <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># DDplot of binary data using generalized ULI</span></span></span>
<span class="r-in"><span><span class="co"># discrimination based on 5 groups, comparing 4th and 5th</span></span></span>
<span class="r-in"><span><span class="co"># threshold lowered to 0.1</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataBin</span>, k <span class="op">=</span> <span class="fl">5</span>, l <span class="op">=</span> <span class="fl">4</span>, u <span class="op">=</span> <span class="fl">5</span>, thr <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># DDplot of ordinal dataset using ULI</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># DDplot of ordinal dataset using generalized ULI</span></span></span>
<span class="r-in"><span><span class="co"># discrimination based on 5 groups, comparing 4th and 5th</span></span></span>
<span class="r-in"><span><span class="co"># threshold lowered to 0.1</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span>, k <span class="op">=</span> <span class="fl">5</span>, l <span class="op">=</span> <span class="fl">4</span>, u <span class="op">=</span> <span class="fl">5</span>, thr <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># DDplot of ordinal dataset using RIT</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span>, discrim <span class="op">=</span> <span class="st">"RIT"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># DDplot of ordinal dataset using RIR</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span>, discrim <span class="op">=</span> <span class="st">"RIR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># DDplot of ordinal dataset displaying only difficulty</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataBin</span>, discrim <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># DDplot of ordinal dataset displaying difficulty estimates</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># DDplot of ordinal dataset displaying average item scores</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">dataOrd</span>, average.score <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># item difficulty / criterion validity plot for data with criterion</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">GMAT</span>, package <span class="op">=</span> <span class="st">"difNLR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">DDplot</span><span class="op">(</span><span class="va">GMAT</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span>, criterion <span class="op">=</span> <span class="va">GMAT</span><span class="op">$</span><span class="va">criterion</span>, val_type <span class="op">=</span> <span class="st">"simple"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Patricia Martinkova, Adela Hladka, Jan Netik.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

